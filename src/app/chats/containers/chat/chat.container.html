<div class="choose"
    *ngIf="chatKey.length === 0">
    Selected chat
    <mat-icon>sentiment_satisfied_alt</mat-icon>
</div>
<div class="chat"
    *ngIf="chatKey.length !== 0">
    <div class="messages"
        id="messages">
        <div class="message"
            [ngClass]="message.sender == senderEmail ? 'owner' : 'other'"
            *ngFor="let message of chat">
            <div class="system"
                *ngIf="message.sender == 'system'">
                {{ message.text }}
            </div>
            <div class="user"
                *ngIf="message.sender != 'system'">
                {{ message.text }}
            </div>
        </div>
    </div>
    <!-- <div class="messages">
        <div class="message"
            *ngFor="let message of chat; last as last"
        >
            {{ message.text }}
        </div>
    </div> -->
    <form class="newMessage"
        [formGroup]="newMessageForm"
        (ngSubmit)="onSubmit(newMessageForm.value)">
        <mat-form-field appearance="outline">
            <mat-label>Your message</mat-label>
            <input matInput placeholder="Your message"
                type="text" 
                [formControl]="newMessageForm.controls['text']">
        </mat-form-field>
        <button mat-raised-button color="primary"
            type="submit" 
            [disabled]="newMessageForm.invalid">
            <mat-icon>send</mat-icon>
        </button>
    </form>
</div>
